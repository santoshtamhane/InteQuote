<!--
  Generated template for the MaterialPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="secondary">
    <ion-title>Accessory</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
<form [formGroup]="AccessoryForm" [class]="bgpat">
<ion-item *ngIf="showCategorytext">
               <ion-label  stacked color="primary"><ion-icon name="folder" color="primary" style="zoom:2.0"></ion-icon>Product Category</ion-label>
                    <ion-select formControlName="Category" [(ngModel)]="Category"  placeholder="Choose Product Category">
<ion-option></ion-option>
<ion-option *ngFor="let C of Categories|async|unique:'Category'">{{C.Category}}</ion-option>
                    </ion-select>
                   
 </ion-item>
<button *ngIf="showCategorytext==true" ion-button clear color="primary" (click)="createCategory(1)">Add New Category</button>
<ion-item *ngIf="showCategorytext==false">
<ion-label  stacked color="primary"><ion-icon name="folder" color="primary" style="zoom:2.0"></ion-icon>Category</ion-label>
<ion-input formControlName="Category" [ngModel]="Category" type='text'  placeholder="New Product Category"></ion-input>
</ion-item>
<button *ngIf="showCategorytext==false" ion-button clear color="primary" (click)="createCategory(2)">Choose Category</button>


<ion-item>
<ion-label  stacked color="primary"><ion-icon name="cog" color="primary" style="zoom:2.0"></ion-icon>Product</ion-label>
<ion-input formControlName="productname" [ngModel]="productname" type='text'  placeholder="Enter Product Name"></ion-input>
</ion-item>
<ion-item class="error-message" *ngIf="!AccessoryForm.controls.productname.valid && AccessoryForm.controls.productname.dirty">
<p>Product name for {{Category}} required</p>
</ion-item>

<ion-item>
<ion-label  stacked color="primary"><ion-icon name="contact" color="primary" style="zoom:2.0"></ion-icon>Vendor</ion-label>
<ion-input formControlName="vendor" [ngModel]="vendor" type='text'  placeholder="Enter Vendor name"></ion-input>
</ion-item>
<ion-item class="error-message" *ngIf="!AccessoryForm.controls.vendor.valid && AccessoryForm.controls.vendor.dirty">
<p>Vendor for {{productname}} required</p>
</ion-item>

<ion-item>
<ion-label  stacked color="primary"><ion-icon name="cash" color="primary" style="zoom:2.0"></ion-icon>Rate</ion-label>
<ion-input formControlName="rate" [ngModel]="rate" type='telephone'  placeholder="Rate per unit"></ion-input>
</ion-item>

<ion-item class="error-message" *ngIf="!AccessoryForm.controls.rate.valid && AccessoryForm.controls.rate.dirty">
<p>Rate for {{productname}} required</p>
</ion-item>

<button ion-button (click)="saveAccessory()" [disabled]="!AccessoryForm.valid"><ion-icon name="download"></ion-icon>Save Accessory</button> 
</form>
</ion-content>
