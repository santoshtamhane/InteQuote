<!--
  Generated template for the MaterialPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{materialtype}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
<form [formGroup]="addMaterialForm" [class]="bgpat">
<ion-item>
               <ion-label  stacked color="primary"><ion-icon name="home" color="primary" style="zoom:2.0" ></ion-icon>Room</ion-label>
                    <ion-select formControlName="roomname" placeholder="Choose Room" [compareWith]="compareroomFn" (ionChange)="setProductList($event)">
<ion-option></ion-option>
<ion-option *ngFor="let rooms of productList|async|unique:'roomname'" [value]="rooms">
      {{rooms.roomname}}
    </ion-option>
</ion-select>               
 </ion-item>
<ion-item class="error-message" *ngIf="!addMaterialForm.controls.roomname.valid && addMaterialForm.controls.roomname.dirty">
<p>Please select room</p>
</ion-item>

<ion-item>
               <ion-label  stacked color="primary"><ion-icon name="home" color="primary" style="zoom:2.0"></ion-icon>Product</ion-label>
                    <ion-select formControlName="productname" placeholder="Choose Product" [compareWith]="compareroomprodFn">
<ion-option></ion-option>
<ion-option *ngFor="let rp of roomproductList | async" [value]="rp">
      {{rp.productname}}
     
    </ion-option>
</ion-select>             
 </ion-item>
<ion-item class="error-message" *ngIf="!addMaterialForm.controls.productname.valid && addMaterialForm.controls.productname.dirty">
<p>Please select product</p>
</ion-item>
 
<ion-item>
<ion-label  stacked color="primary"><ion-icon name="cog" color="primary" style="zoom:2.0"></ion-icon>Material</ion-label>
<ion-input formControlName="materialname" [ngModel]="materialname" type='text'  placeholder="Enter Material Name"></ion-input>
</ion-item>
<ion-item class="error-message" *ngIf="!addMaterialForm.controls.materialname.valid && addMaterialForm.controls.materialname.dirty">
<p>Material name for {{productname}} required</p>
</ion-item>

<ion-item>
<ion-label  stacked color="primary"><ion-icon name="cash" color="primary" style="zoom:2.0"></ion-icon>Per Sq Feet</ion-label>
<ion-input formControlName="psqft" [ngModel]="psqft" type='telephone'  placeholder="Per sq feet cost"></ion-input>
</ion-item>

<ion-item class="error-message" *ngIf="!addMaterialForm.controls.psqft.valid && addMaterialForm.controls.psqft.dirty">
<p>Per Sq Ft price for {{materialname}} required</p>
</ion-item>

<button ion-button (click)="saveMaterial()" [disabled]="!addMaterialForm.valid"><ion-icon name="download"></ion-icon>Save Material</button> 
</form>
</ion-content>
